# Probe Agents Kit
#
# Injects probe agents into a running AI-HABITAT instance.
# Configure via .env file or environment variables.

services:
  probe-agents:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: habitat-probe-agents
    env_file:
      - .env
    environment:
      - HABITAT_CORE_URL=${HABITAT_CORE_URL:-http://host.docker.internal:9670}
      - HABITAT_PERCEPTION_URL=${HABITAT_PERCEPTION_URL:-http://host.docker.internal:9671}
      - PROBE_QS_COUNT=${PROBE_QS_COUNT:-10}
      - PROBE_CBC_COUNT=${PROBE_CBC_COUNT:-3}
      - PROBE_JAP_COUNT=${PROBE_JAP_COUNT:-2}
      - PROBE_BASE_SEED=${PROBE_BASE_SEED:-42}
      - PROBE_TICK_INTERVAL_MS=${PROBE_TICK_INTERVAL_MS:-1000}
      - PROBE_MAX_RETRIES=${PROBE_MAX_RETRIES:-3}
      - PROBE_VERBOSE=${PROBE_VERBOSE:-false}
    restart: unless-stopped
